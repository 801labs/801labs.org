<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>i didn&#x27;t hack my christmas tree lights | 801 Labs</title><meta name="description" content="description"/><link rel="canonical" href="https://www.801labs.org/research-portal/post/didnt-hack-my-christmas-lights"/><link rel="icon" href="/favicon.png" sizes="16x16"/><meta property="og:title" content="i didn&#x27;t hack my christmas tree lights | 801 Labs"/><meta property="og:description" content="801 Labs is a Salt Lake City based hackerspace created by local information technology, electronics, and information security enthusiasts."/><meta property="og:image" content="https://www.801labs.org2018/12/A7B65125-AF02-44C0-8FBF-0D2D0236161F-1.jpg"/><meta property="og:url" content="https://www.801labs.org/research-portal/post/didnt-hack-my-christmas-lights"/><meta property="og:site_name" content="801 Labs"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@801Labs"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="theme-color" content="#6bf0c2"/><link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;0,900;1,400&amp;family=Tomorrow:wght@400;600;700&amp;display=swap" rel="stylesheet"/><meta name="google-site-verification" content="QnlAT_0caLTAeL1e8V-RlHWBX7xauM_CnxY_5-ltIF4"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/8969e7afdbf881a3b841.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8969e7afdbf881a3b841.css"/><link rel="preload" href="/_next/static/chunks/main-b4e92501dafbf3105fc2.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-488dc228921f1fdbc0e7.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.639a4c6d2372edf94622.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.4d1825a506d17b0928b0.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-12e3ebfc7a933fcdcbbe.js" as="script"/><link rel="preload" href="/_next/static/chunks/cb1608f2.7e132185cf1e34346bef.js" as="script"/><link rel="preload" href="/_next/static/chunks/a9a7754c.7aa4e9847236da390ada.js" as="script"/><link rel="preload" href="/_next/static/chunks/d08d8da065e662efb4cb4dbcdc52896f9ea60d65.9dd7d400e0d5e958135f.js" as="script"/><link rel="preload" href="/_next/static/chunks/269ea3ef5216fdb5e29fe1b24ee03a8936e3d31a.4d478adb7189bc4ce75a.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/research-portal/post/%5Bslug%5D-4f135702a487b59705c4.js" as="script"/></head><body><div id="__next"><div class="bg-white font-sans fluid-text-base"><div class="fixed inset-0 z-40 bg-graphite-800 hidden" style="--bg-opacity:0.4"></div><div class="fixed right-0 top-0 h-screen overflow-y-auto z-50 w-full sm:w-64 font-display bg-graphite-800 text-white hidden"><div class="px-5 pt-5 text-right"><button class="px-4 py-2" title="Close Menu"><span class="sr-only">Close Menu</span><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" class="svg-inline--fa fa-times fa-w-11 fa-lg " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg></button></div><ul class="pt-2 pb-5 fluid-text-lg"><li><a class="py-1 px-5 link--white" href="/about/">About</a><ul class="fluid-text-base"><li><a class="py-1 pl-10 pr-5 link--white" href="/about/financial-information/">Financial Information</a></li><li><a class="py-1 pl-10 pr-5 link--white" href="/about/news/1/">News</a></li></ul></li><li><a class="py-1 px-5 link--white" href="/research-portal/1/">Learn</a></li><li><a class="py-1 px-5 link--white" href="/get-involved/">Get Involved</a><ul class="fluid-text-base"><li><a class="py-1 pl-10 pr-5 link--white" href="/get-involved/events/">Events</a></li><li><a class="py-1 pl-10 pr-5 link--white" href="/get-involved/location-and-hours/">Location and Hours</a></li></ul></li><li><a class="py-1 px-5 link--white" href="/contact/">Contact Us</a></li><li><a class="py-1 px-5 link--tangerine font-bold" href="/donate/">DonateÂ &gt;</a></li></ul></div><div class="page"><header class="page-header font-display bg-graphite-800 text-white"><div class="container mx-auto px-5 lg:px-10 xl:px-16 py-3 lg:py-5 flex"><div class="flex-initial"><a class="text-white" href="/"><svg xmlns="http://www.w3.org/2000/svg" class="fill-current" viewBox="0 0 1566.7 420.9" width="217"><title>801 Labs - a Community Hackerspace</title><path d="M131.5 261.8h24.1c1.8 0 3.2 1.5 3.2 3.2 0 1.8-1.5 3.2-3.2 3.2h-24.1c-1.8 0-3.2-1.5-3.2-3.2-.1-1.8 1.4-3.2 3.2-3.2z"></path><path d="M194.9 148.8V60.9c13-4.1 21.9-16.1 21.9-29.8 0-17.2-14-31.2-31.2-31.2h-85.3c-13.6.1-25.7 9-29.7 22-5.1 16.4 4.1 33.9 20.5 39v87.8c-7.5 2.9-14.8 6.5-21.7 10.6-67.6 40.6-89.6 128.2-49.1 195.8 12.9 21.3 31 39.1 52.6 51.6 18.4 10.7 29.7 12.9 32.7 13.4 12.1 1.7 22.7-1.3 30.5-8.8 9.3-8.8 14.9-23.7 16.6-44.2.6-8.6.7-17.3.3-25.9 3.6-2.4 6.3-6.1 7.3-10.7l.3-1.2c0-.6.1-1.5.1-2.4h16c6.3 0 11.5-5.1 11.5-11.4v-.9h-.2c.1-.6.2-1.2.2-1.7l.2-34.4c0-1.5-1.2-2.6-2.6-2.6h-1.2c-1.5 0-2.6-1.2-2.6-2.7l.1-39.6c0-1.4-1.2-2.6-2.6-2.6l-71.7-.2c-1.4 0-2.6 1.2-2.6 2.6l-.1 39.6c0 1.4-1.2 2.6-2.6 2.6h-1.2c-1.4 0-2.6 1.2-2.6 2.6l-.1 34.6c0 .6.1 1.3.2 1.9h-.2v.7c0 6.3 5.1 11.5 11.4 11.5h16.3c.1.8.4 1.6.6 2.4 0 0 3.3 8.8 9.1 12.8 1 22.2-.7 46.7-11.5 56.8-4.1 3.9-9.4 5.3-16.5 4.3-.4-.1-9.7-1.5-26.5-11.2-19.1-11-35.1-26.7-46.5-45.6-3.5-5.8-6.5-11.9-9-18.2-25.6-64.5 6-137.5 70.4-163.1 2-.8 11.7-5.7 11.7-11.3V54.2v-.6c0-4.6-3.7-8.2-8.2-8.2-7.8-.1-14-6.6-13.9-14.4.1-7.8 6.6-14 14.4-13.9h85.3c7.8-.1 14.2 6.1 14.4 13.9.1 7.8-6.1 14.2-13.9 14.4h-.6c-4.5.3-7.9 4.3-7.6 8.9v99.5c0 5.9 9.8 10.6 11.7 11.3 47.9 19.1 79.3 65.5 79.3 117 0 57.5-38.5 107.7-93.5 122.1-3.7 1-6.3 4.4-6.3 8.2 0 4.7 3.8 8.5 8.5 8.5.7 0 1.5-.1 2.2-.2 62.5-16.4 106.2-73.4 106.2-138.6-.1-59-36.3-111.9-91.2-133.3zm-62.8 155.4l-1.6 7.7c-.4 1.5-1.7 2.5-3.2 2.5l-13.4-.3c-1.5 0-2.6-1.2-2.6-2.7V291c0-1.4 1.2-2.6 2.6-2.6h1.2c1.4 0 2.6-1.2 2.6-2.6l.1-39.6c0-1.4 1.2-2.6 2.6-2.6h5.4c1.4 0 2.6 1.2 2.6 2.6v7.6c0 1.5 1.2 2.6 2.6 2.6h1.2c1.4 0 2.6-1.2 2.6-2.6v-7.3c0-1.4 1.2-2.6 2.6-2.7l11.9-.1c1.4.1 2.5 1.2 2.5 2.6v7.5c0 1.4 1.2 2.6 2.6 2.6h1.3c1.4 0 2.6-1.2 2.6-2.6v-7.6c0-1.4 1.2-2.6 2.6-2.6h5.3c1.5 0 2.7 1.1 2.7 2.6v.1l-.1 39.6c0 1.5 1.2 2.6 2.6 2.6h1.2c1.5 0 2.6 1.2 2.6 2.6v20.4c0 1.4-1.2 2.6-2.6 2.6h-13.4c-1.5-.1-2.8-1.1-3.1-2.6l-1.6-7.7c-.4-1.5-1.6-2.5-3.1-2.5l-16.4.2c-1.2.2-2.5 1.2-2.9 2.7z"></path><path d="M453.1 366.9c-40 0-64.9-24.1-64.9-59.7v-30c-.9-17 8.3-32.9 23.3-40.8-14.1-6.3-23-21.5-23-40.8v-26.9c0-35.6 24.5-59.7 64.5-59.7s64.9 24.1 64.9 59.7v26.9c0 19.3-8.9 34.5-23 40.8 15.2 7.8 24.4 23.7 23.7 40.8v30c.1 35.7-25.1 59.7-65.5 59.7zm23.7-196.5c-.6-13-11.7-23-24.7-22.4-12.1.6-21.8 10.3-22.4 22.4V203c1.1 13 12.5 22.7 25.5 21.6 11.5-1 20.6-10.1 21.6-21.6v-32.6zm.4 100.4c0-11.5-8.2-21.9-24.1-21.9-11.8-1-22.3 7.8-23.3 19.6-.1.8-.1 1.5-.1 2.3v34.5c-.7 12.2 8.7 22.7 20.9 23.3h2.4c12.4.8 23.2-8.6 24.1-21 .1-.8.1-1.5 0-2.3v-34.5zM630.3 366.9c-40 0-65.6-25.9-65.6-64.1V173.7c0-38.6 25.5-64.1 65.6-64.1 40.1 0 66 25.5 66 64.1v129.1c-.1 38.2-25.6 64.1-66 64.1zM654 170.1c0-11.9-8.9-21.5-23.7-21.5-11.8-1-22.3 7.8-23.3 19.6-.1.6-.1 1.3-.1 1.9v135.7c0 11.9 9.6 21.6 21.4 21.6.6 0 1.3 0 1.9-.1 14.8 0 23.7-9.6 23.7-21.5V170.1zM753.7 361.4V134.2c14.1 0 19.3-9.3 19.3-19.6h23.3v246.8h-42.6zM930.6 361.4V114.5h45.9v206.1h69v40.8H930.6zM1174.8 361.4l-8.2-48.4h-43.7l-8.9 48.4h-43l49.6-246.8h51.5l49.5 246.8h-46.8zm-28.9-180.2l-16.7 95.3h31.5l-14.8-95.3zM1335.3 361.4h-77.8V114.5h77.2c33.7 0 54.5 18.2 54.5 52.3v26.9c0 21.1-8.2 37.1-29.3 41.5 22.2 5.9 30.4 21.1 30.4 41.9v32.3c-.2 34.2-21.3 52-55 52zm9.6-191.3c0-11.1-4.8-17.8-16.1-17.8h-24.9v67.8h23c11.9 0 18.2-6.3 18.2-19.3l-.2-30.7zm.7 103.5c0-13-6.3-19.6-18.2-19.6h-23.7v69.9h25.9c11.5 0 16.1-6.3 16.1-17.8l-.1-32.5zM1498.4 366.9c-42.3 0-68.6-25.2-68.6-63.7v-17.1h42.3v14.5c0 18.2 8.5 28.2 25.2 28.2s24.5-9.6 24.5-24.9c0-19.6-12.6-33-37.1-51.2-24.5-18.2-52.6-42.6-52.6-77.1 0-35.6 23-66.3 67.5-66.3 38.9 0 64.9 26.9 64.9 63.4v16.1h-41.9V174c0-15.2-7.8-26.3-23.3-26.3-11.5-.8-21.4 7.8-22.2 19.3-.1 1-.1 1.9 0 2.9 0 20.8 12.2 31.5 39.6 51.5 29.3 21.9 50 44.1 50 77.5-.2 39.5-27.7 68-68.3 68z"></path></svg></a></div><div class="lg:hidden flex-1 text-right"><button class="px-4 py-2" title="Toggle Menu"><span class="sr-only">Toggle Menu</span><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars fa-w-14 fa-lg " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"></path></svg></button></div><ul class="flex-1 hidden lg:flex justify-end fluid-text-lg"><li class="group relative"><a class="p-3 link--white" href="/about/">About</a><ul class="hidden group-focus-within:block group-hover:block py-2 absolute left-0 w-64 bg-graphite-800 fluid-text-base"><li><a class="block py-1 px-5 link--white" href="/about/financial-information/">Financial Information</a></li><li><a class="block py-1 px-5 link--white" href="/about/news/1/">News</a></li></ul></li><li class="group relative"><a class="p-3 link--white" href="/research-portal/1/">Learn</a></li><li class="group relative"><a class="p-3 link--white" href="/get-involved/">Get Involved</a><ul class="hidden group-focus-within:block group-hover:block py-2 absolute left-0 w-64 bg-graphite-800 fluid-text-base"><li><a class="block py-1 px-5 link--white" href="/get-involved/events/">Events</a></li><li><a class="block py-1 px-5 link--white" href="/get-involved/location-and-hours/">Location and Hours</a></li></ul></li><li class="group relative"><a class="p-3 link--white" href="/contact/">Contact Us</a></li><li class="group relative"><a class="p-3 link--tangerine font-bold" href="/donate/">DonateÂ &gt;</a></li></ul></div></header><main class="page-content"><div class="bg-graphite-900 bg-image-grid bg-top text-white"><div class="container-1400 mx-auto px-5 py-20 text-center"><h2 class="h1 text-shadow-glow">801 Labs Research Portal</h2></div></div><div class="container-1400 mx-auto px-5 py-20 md:flex md:space-x-20"><aside class="hidden md:block md:w-1/4"><div><h3 class="fluid-text-lg font-bold bg-black text-white px-5 py-1 mb-3">Tags</h3><ul class="px-5 py-1 space-y-2"><li><a href="/research-portal/tag/biohacking/1/">biohacking</a></li><li><a href="/research-portal/tag/buffer-overflow/1/">buffer overflow</a></li><li><a href="/research-portal/tag/development/1/">Development</a></li><li><a href="/research-portal/tag/dll-injection/1/">DLL Injection</a></li><li><a href="/research-portal/tag/domains/1/">domains</a></li><li><a href="/research-portal/tag/ee/1/">EE</a></li><li><a href="/research-portal/tag/how-to/1/">how to</a></li><li><a href="/research-portal/tag/makefile/1/">Makefile</a></li><li><a href="/research-portal/tag/memory/1/">memory</a></li><li><a href="/research-portal/tag/pcap/1/">pcap</a></li><li><a href="/research-portal/tag/phishing/1/">phishing</a></li><li><a href="/research-portal/tag/re/1/">RE</a></li><li><a href="/research-portal/tag/research/1/">research</a></li><li><a href="/research-portal/tag/rfid/1/">RFID</a></li><li><a href="/research-portal/tag/story/1/">Story</a></li><li><a href="/research-portal/tag/tutorial/1/">Tutorial</a></li><li><a href="/research-portal/tag/windows-api/1/">Windows API</a></li><li><a href="/research-portal/tag/windows-hacking/1/">Windows Hacking</a></li></ul></div></aside><div class="md:w-3/4"><h1 class="h2 mb-10">i didn&#x27;t hack my christmas tree lights</h1><img loading="lazy" src="/_next/static/images/A7B65125-AF02-44C0-8FBF-0D2D0236161F-1-320-a6201439dbd8cb714b289103defd2d5d.jpg" sizes="(min-width: 960px) 960px, 100vw" alt="i didn&#x27;t hack my christmas tree lights" class="mb-8 mx-auto max-h-100" srcSet="/_next/static/images/A7B65125-AF02-44C0-8FBF-0D2D0236161F-1-320-a6201439dbd8cb714b289103defd2d5d.jpg 320w,/_next/static/images/A7B65125-AF02-44C0-8FBF-0D2D0236161F-1-640-c6fb7bdaa83cc758822e7b2e1e7bef6e.jpg 640w,/_next/static/images/A7B65125-AF02-44C0-8FBF-0D2D0236161F-1-960-0be51e90da50645934505dd3871ec35e.jpg 960w,/_next/static/images/A7B65125-AF02-44C0-8FBF-0D2D0236161F-1-1280-176d1300383b319952fd7910c452db89.jpg 1280w,/_next/static/images/A7B65125-AF02-44C0-8FBF-0D2D0236161F-1-1900-5f7aa7a38c5b0ee02c170ed37fd174df.jpg 1900w" width="1900" height="2534" style="max-width:min(100%, 1900px)"/><div class="space-y-6 markdown"><p>Sometimes you go to Target and fall in love with the most stupid and useless yet incredibly cool product you could buy with the spare $100 you don't really have and sometimes you are even lucky enough to find a product that:</p>
<ol>
<li>lights up</li>
<li>is connected to the internet</li>
</ol>
<p>which personally are my two favorite things. Oh, and it's Christmastime?? Enter the Philips Illuminate Starter Kit of 25 C9-sized LED lights. </p>
<p>While many wi-fi app controlled LED lights come in LED light strip form, these lights in particular come attached to each other on a typical Christmas light string setup, but at the end of the cord about a foot from the plug is a green control box. 25 lights isn't really enough to make a standard Christmas tree look good, so I bought some supplemental lights and hooked these babies up then got them connected to my wifi ASAP. You can buy additional Philips Illuminate branded extension light strings to hook up to your main strand, which maxes out at 300 lights per control box.</p>
<figure><img src="/_next/static/images/IMG_3415-320-193041b81c30ed74d7371c7140d75745.jpg" srcset="/_next/static/images/IMG_3415-320-193041b81c30ed74d7371c7140d75745.jpg 320w,/_next/static/images/IMG_3415-640-d2c7ac5720a44d012629da650ec0738a.jpg 640w,/_next/static/images/IMG_3415-960-1b6be528ad65bae5231c3780e7a96a91.jpg 960w,/_next/static/images/IMG_3415-1280-36e9d0304baeb5853ae285b303a2a8a6.jpg 1280w,/_next/static/images/IMG_3415-1900-4403650c39df25db835d06710c79f326.jpg 1900w" sizes="(min-width: 960px) 960px, 100vw" width="1900" height="2534" alt="undefined" loading="lazy" /><figcaption>a mix of birbs, the colored Philips lights, and a strand of normal lights. note the green control box to the bottom left</figcaption></figure>
<p>In order to connect to your Philips Illuminate lights, you download the Illuminate app, connect to the wifi the control box emanates, and provide the control box with the login to your home wifi. Once you hook the control box up to your home wifi, everything is all set for app control. The app can do A Bunch of Cool Things, including a huge amount of pre-programmed light patterns, the ability to make your own custom patterns, and a mode where the lights react to your voice... super creepy but great for the cool trick factor. </p>
<p>The ease of this all means the lights are absolutely worth the sale price of $79.99 (originally $99.99!), right? But it'd be nice to get them to do a little more, or at least be able to deconstruct how they work. After running through the programs available on the app, creating my own programs on the app, and poking around to see if anybody had created a custom firmware for these yet, I got to the point where I started getting a bit more curious about the security of the Philips Illuminate light set. </p>
<p>First of all, if these things are on my wifi network, they've got to have an IP address and my particular starting point for poking at things on my network is to do an nmap scan:</p>
<img src="/_next/static/images/image-19-320-c77f26fc36b7b9460f3b5bd5c6ccbed1.jpg" srcset="/_next/static/images/image-19-320-c77f26fc36b7b9460f3b5bd5c6ccbed1.jpg 320w,/_next/static/images/image-19-640-706ab409c6ad1f56ebd7f96f4b21cdd8.jpg 640w,/_next/static/images/image-19-960-bb667610ec000e5b8937cbc67596e592.jpg 960w,/_next/static/images/image-19-1146-c1da6843f4ca674f735d61d4a9616013.jpg 1146w" sizes="(min-width: 960px) 960px, 100vw" width="1146" height="598" alt="undefined" loading="lazy" />
<p>Choose whatever nmap scan you want, but this one hits all the ports tcp and udp so you can get a general idea of what the network functions of this device are. From this scan, I've got the easily recognizable port 80 which indicates we can browse to <a href="http://192.168.50.37">http://192.168.50.37</a> on my home network and see what's up there. I also see a pretty neat option with port 5577, which led me down a huge rabbit hole. I've never messed with smart home devices before, but apparently port 5577 is a standard control port for issuing commands to networked LED devices with a certain set of controllers. In the UDP zone, there's port 53!! Is this thing running a DNS server? There's also those various high level UDP ports which could offer up some interesting information.</p>
<p>In the interest of keeping things simple, I started with the port 80 web interface. By browsing to the IP address, I got a login prompt where I tried every different formulation of admin/admin, admin/password, root/[blank]... nothing.</p>
<figure><img src="/_next/static/images/Screen-Shot-2018-12-26-at-10.24.57-AM-320-d33826bef02ee6c44917f2cf8436354d.jpg" srcset="/_next/static/images/Screen-Shot-2018-12-26-at-10.24.57-AM-320-d33826bef02ee6c44917f2cf8436354d.jpg 320w,/_next/static/images/Screen-Shot-2018-12-26-at-10.24.57-AM-640-43564c6827d0d4bda070234608ee73bd.jpg 640w,/_next/static/images/Screen-Shot-2018-12-26-at-10.24.57-AM-960-b13dd723c0ad7c30b12412adcf3627fb.jpg 960w,/_next/static/images/Screen-Shot-2018-12-26-at-10.24.57-AM-1280-28b4b73b5a76f960e5bccd185b7c40e9.jpg 1280w,/_next/static/images/Screen-Shot-2018-12-26-at-10.24.57-AM-1816-1e02ea3dd1bad600bf41607b57cd42cd.jpg 1816w" sizes="(min-width: 960px) 960px, 100vw" width="1816" height="960" alt="undefined" loading="lazy" /><figcaption>a challenge</figcaption></figure>
<p>Also note the truly beautiful shade of pink you get upon failed login... the kind of pink that makes you want to attempt more.</p>
<figure><img src="/_next/static/images/Screen-Shot-2018-12-26-at-10.29.47-AM-320-f0b45e06a8a2f36e6f6b74e83d2809b1.jpg" srcset="/_next/static/images/Screen-Shot-2018-12-26-at-10.29.47-AM-320-f0b45e06a8a2f36e6f6b74e83d2809b1.jpg 320w,/_next/static/images/Screen-Shot-2018-12-26-at-10.29.47-AM-640-506248add02bfc627fa199f7fcd4f090.jpg 640w,/_next/static/images/Screen-Shot-2018-12-26-at-10.29.47-AM-960-ba606b67cc9bcc2a65419e80e3c3c999.jpg 960w,/_next/static/images/Screen-Shot-2018-12-26-at-10.29.47-AM-1280-2d7d273bd25f49b6b1c90003c9482888.jpg 1280w,/_next/static/images/Screen-Shot-2018-12-26-at-10.29.47-AM-1816-457959c4d62e44c996cb33a7367d663f.jpg 1816w" sizes="(min-width: 960px) 960px, 100vw" width="1816" height="960" alt="undefined" loading="lazy" /><figcaption>heck.</figcaption></figure>
<p>At this point I was pretty okay with trying anything I could to get into what I assumed was a web interface to change settings with the lights. Following t<a href="https://support.portswigger.net/customer/portal/articles/1964020-using-burp-to-brute-force-a-login-page">his</a> article about using Burp to brute force a login page yielded no results. <a href="http://tylerrockwell.github.io/defeating-basic-auth-with-hydra/">This</a> article about using Hydra to brute force a login page... <strong>also</strong> yielded no results. Double heck! </p>
<p><strong><em>NOTE:</em></strong> Both of the brute force options would have worked if I had a certain reversed common username in any of the wordlists I used... remember to use good wordlists, pals. But I didn't, so I carried on.</p>
<p>The next thing I wanted to try was getting a PCAP of the app issuing commands to the lights, because maybe the password would be visible over the wire! At this point I was mistakenly assuming that the app was issuing API calls over port 80 via authenticated HTTP at the very least. I didn't have an easy way right off the bat to grab a PCAP, so I turned to asking people around me what they'd do next. We ended up decompiling the Philips Illuminate APK to try and find the password. It was a really great way to get a crash course in Android app development, but didn't yield any results HTTP login password-wise. I did get a bit more information about these lights though: the original developer is a company called Zengge and also got some model information from examining the APK. I wasn't right about the HTTP posts for the control of the lights, so on to the next option.</p>
<p>Doing more research about port 5577 gave me the confirmation that it was time to put these things on an isolated test network just to be able to make sure nothing else was messing with them and snatch a pcap of opening my app and issuing a series of on-off commands:</p>
<figure><img src="/_next/static/images/Screen-Shot-2018-12-25-at-4.13.02-PM-320-71fb11f16f5a0744f83c6d740370031e.jpg" srcset="/_next/static/images/Screen-Shot-2018-12-25-at-4.13.02-PM-320-71fb11f16f5a0744f83c6d740370031e.jpg 320w,/_next/static/images/Screen-Shot-2018-12-25-at-4.13.02-PM-640-99a0e2ddbeef57b100f67eb6076bc15b.jpg 640w,/_next/static/images/Screen-Shot-2018-12-25-at-4.13.02-PM-960-172671a4fe77d762ee7b350b2e46c0a1.jpg 960w,/_next/static/images/Screen-Shot-2018-12-25-at-4.13.02-PM-1280-81fae8a5678a5e2194a60adfade220a1.jpg 1280w,/_next/static/images/Screen-Shot-2018-12-25-at-4.13.02-PM-1900-c4395dbbe053ebf3ac0c0e757038c88c.jpg 1900w" sizes="(min-width: 960px) 960px, 100vw" width="1900" height="474" alt="undefined" loading="lazy" /><figcaption>things happening over port 5577!!</figcaption></figure>
<p>and look! Confirmation that commands are indeed issued over port 5577. But how can you confirm for absolutely certain that it's not just random chatter? Follow the streams:</p>
<figure><img src="/_next/static/images/Screen-Shot-2018-12-25-at-4.26.26-PM-320-dc46bd5e769f85dfbfaf658f5dc27543.jpg" srcset="/_next/static/images/Screen-Shot-2018-12-25-at-4.26.26-PM-320-dc46bd5e769f85dfbfaf658f5dc27543.jpg 320w,/_next/static/images/Screen-Shot-2018-12-25-at-4.26.26-PM-640-5a452451ec88b92b45edf71f4556b767.jpg 640w,/_next/static/images/Screen-Shot-2018-12-25-at-4.26.26-PM-960-281512f663ed4a2122275d2036395f9e.jpg 960w,/_next/static/images/Screen-Shot-2018-12-25-at-4.26.26-PM-1280-b8f17c57c2b18e70d6a3fa3d07594e0d.jpg 1280w,/_next/static/images/Screen-Shot-2018-12-25-at-4.26.26-PM-1742-195b56f2963e4d18b185d61d1cabc660.jpg 1742w" sizes="(min-width: 960px) 960px, 100vw" width="1742" height="1804" alt="undefined" loading="lazy" /><figcaption>Repetitive commands being issued! Hooray!</figcaption></figure>
<p>That's what a series of on-off commands looks like, and here's what a series of switching between the two custom programs I made on the app look like: </p>
<figure><img src="/_next/static/images/Screen-Shot-2018-12-25-at-4.36.31-PM-320-9a011c68002e9b31b55731f1ca0f2675.png" srcset="/_next/static/images/Screen-Shot-2018-12-25-at-4.36.31-PM-320-9a011c68002e9b31b55731f1ca0f2675.png 320w,/_next/static/images/Screen-Shot-2018-12-25-at-4.36.31-PM-640-d652a161a871c198e86214bd7d669a9f.png 640w,/_next/static/images/Screen-Shot-2018-12-25-at-4.36.31-PM-960-b85b08c925c0bbdaf04e609da64ac6fe.png 960w,/_next/static/images/Screen-Shot-2018-12-25-at-4.36.31-PM-1280-155469dfe31b4cd88234ab7426561446.png 1280w,/_next/static/images/Screen-Shot-2018-12-25-at-4.36.31-PM-1746-be75664bc8c0bc4e8e490174b68e9fe2.png 1746w" sizes="(min-width: 960px) 960px, 100vw" width="1746" height="694" alt="undefined" loading="lazy" /><figcaption>a bit more complex</figcaption></figure>
<p>So as you can see, a bit more complicated when you get into the fancy settings like color changes and fade speeds. When looking through the pcaps for different kinds of requests, there's not a whole bunch more information beyond the promise of the ability to issue totally unauthenticated commands. This makes it unnecessary to have the HTTP page login for the purposes of controlling the lights without the app, but I was still really interested in finding the password. What was that terrible pink 404 error hiding?</p>
<p>Our next port to explore was confirmed as the one interesting artifact I found in the PCAPs I took: this controller randomly spits out the either the ip address, hostname, mac address in a string or every so often a string of "HF-A11ASSISTHREAD" over UDP on port 48899. </p>
<figure><img src="/_next/static/images/Screen-Shot-2018-12-26-at-1.46.48-PM-320-5541a2e1fe7884f5f7d92caa510963c1.png" srcset="/_next/static/images/Screen-Shot-2018-12-26-at-1.46.48-PM-320-5541a2e1fe7884f5f7d92caa510963c1.png 320w,/_next/static/images/Screen-Shot-2018-12-26-at-1.46.48-PM-640-8362e46ace1450ade53b4dcb1b361497.png 640w,/_next/static/images/Screen-Shot-2018-12-26-at-1.46.48-PM-960-33047f2d1157ca28b4f65962e9f146c4.png 960w,/_next/static/images/Screen-Shot-2018-12-26-at-1.46.48-PM-1280-6f8ad2bf0f2fd46b5ef9b63d6454dd57.png 1280w,/_next/static/images/Screen-Shot-2018-12-26-at-1.46.48-PM-1688-14a2a9224f3be3f20f2bd8c7509d7367.png 1688w" sizes="(min-width: 960px) 960px, 100vw" width="1688" height="616" alt="undefined" loading="lazy" /><figcaption>a friendly network device</figcaption></figure>
<p>This didn't correspond with any hostnames, so I immediately threw it into Google and found out some excellent information about the Zengge Lightbulb manufacturing company thanks to <a href="https://github.com/vikstrous/zengge-lightcontrol">vikstrous on Github</a>. This source not only gave me some insight onto what's going on with this magical box and lights, but also the admin/password to login to the web interface (finally)!</p>
<p>What is going on here anyways? What we know at this point is that there's 25 LEDs controlled by a control box. The control box has a wifi card in it which has the ability to not only broadcast but also connect to a wifi network. This card also runs a UART (Universal Asynchronous Receiver/Transmitter) that accepts commands over port 5577. The mysterious port 48899 is the ability to control some options for the device, but lucky for me the default HTTP login found on the internet for the device works!</p>
<figure><img src="/_next/static/images/Screen-Shot-2018-12-25-at-5.37.14-PM-320-fef429f1017e7d58f8f9c86c0457a7ee.jpg" srcset="/_next/static/images/Screen-Shot-2018-12-25-at-5.37.14-PM-320-fef429f1017e7d58f8f9c86c0457a7ee.jpg 320w,/_next/static/images/Screen-Shot-2018-12-25-at-5.37.14-PM-640-93c45f62275986e13c16a5de9f64ee38.jpg 640w,/_next/static/images/Screen-Shot-2018-12-25-at-5.37.14-PM-960-3158d85bf6552310131d9488ea6a2d73.jpg 960w,/_next/static/images/Screen-Shot-2018-12-25-at-5.37.14-PM-1280-88e13c7f18945e53eaeb2715f852fbb0.jpg 1280w,/_next/static/images/Screen-Shot-2018-12-25-at-5.37.14-PM-1738-e42dc19fe619602296329e81841d0429.jpg 1738w" sizes="(min-width: 960px) 960px, 100vw" width="1738" height="1394" alt="undefined" loading="lazy" /><figcaption>Answers!</figcaption></figure>
<p>Here is where we can configure some cool information about the device's settings for sending and receiving commands, but honestly I'm not even going to touch it â since what I was really hoping for was a web interface to control the lights themselves, not really the device that controls communication to them. </p>
<p>An additional part of this adventure that doesn't really fit into the rest of the research is that Philips is just the distributor for this product which is made by Seasonal Specialties, a company founded in 1996. <a href="http://www.seasonalspecialties.com">Seasonal Specialities</a> has a website that was created in Microsoft Frontpage 5.0 but also a <a href="http://www.seasonalspecialties.com/wp/wp-login.php">wordpress with a default login page</a> operating on the same web host. Yikes. These details tell me security isn't exactly a major concern at Seasonal Specialities, yet these lights are a really nicely made product so I would like to tell them to please start caring! If you go through all of the trouble to rebrand the Zenegge light parts into something that becomes a well-constructed nicely working set of Christmas lights, why not go the extra mile and figure out how to cover up their lack of security? </p>
<p>Luckily, I've got what I need to start creating the foundation for controlling the lights without the Philips Illuminate app. I have a model of UART Controller and lights, I know that the commands aren't sent with any authentication, and I could conceivably find a way to send commands via my Raspberry Pi or create my own web interface for their control. Simply telnetting to port 5577 and repeating the same strings observed in the PCAP back at the device doesn't really work... So now it's just a matter of finding out what packages are out there to interact with this controller or building my own. I'm also tempted to see if any of the <a href="https://www.openhab.org/addons/bindings/wifiled/">OpenHab</a> extensions can play nice with these lights. Either way, I haven't really hacked my Christmas lights, I just found out a TON of information about how they work and function. The true hack will come when I find a way to make them work without their intended supporting software. </p>
<p>Thanks to some sources:</p>
<p><a href="https://www.jpelectron.com/sample/Electronics/WiFi%20LED%20control/">https://www.jpelectron.com/sample/Electronics/WiFi%20LED%20control/</a></p>
<p><a href="https://github.com/renebohne/wifirgbcontroller">https://github.com/renebohne/wifirgbcontroller</a></p>
<p><a href="https://www.openhab.org/addons/bindings/wifiled/">https://www.openhab.org/addons/bindings/wifiled/</a></p>
<p><a href="https://github.com/vikstrous/zengge-lightcontrol">https://github.com/vikstrous/zengge-lightcontrol</a></p>
</div></div></div></main><footer class="page-footer bg-lime-900 text-white pt-10 pb-16"><div class="container-1200 mx-auto px-5"><ul class="flex flex-wrap justify-center mb-10"><li class="m-3"><a class="link--white" href="https://discord.gg/7pBUdwv9Gr" rel="noopener" target="_blank" title="Discord"><span class="sr-only">Discord</span><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="discord" class="svg-inline--fa fa-discord fa-w-14 fa-3x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M297.216 243.2c0 15.616-11.52 28.416-26.112 28.416-14.336 0-26.112-12.8-26.112-28.416s11.52-28.416 26.112-28.416c14.592 0 26.112 12.8 26.112 28.416zm-119.552-28.416c-14.592 0-26.112 12.8-26.112 28.416s11.776 28.416 26.112 28.416c14.592 0 26.112-12.8 26.112-28.416.256-15.616-11.52-28.416-26.112-28.416zM448 52.736V512c-64.494-56.994-43.868-38.128-118.784-107.776l13.568 47.36H52.48C23.552 451.584 0 428.032 0 398.848V52.736C0 23.552 23.552 0 52.48 0h343.04C424.448 0 448 23.552 448 52.736zm-72.96 242.688c0-82.432-36.864-149.248-36.864-149.248-36.864-27.648-71.936-26.88-71.936-26.88l-3.584 4.096c43.52 13.312 63.744 32.512 63.744 32.512-60.811-33.329-132.244-33.335-191.232-7.424-9.472 4.352-15.104 7.424-15.104 7.424s21.248-20.224 67.328-33.536l-2.56-3.072s-35.072-.768-71.936 26.88c0 0-36.864 66.816-36.864 149.248 0 0 21.504 37.12 78.08 38.912 0 0 9.472-11.52 17.152-21.248-32.512-9.728-44.8-30.208-44.8-30.208 3.766 2.636 9.976 6.053 10.496 6.4 43.21 24.198 104.588 32.126 159.744 8.96 8.96-3.328 18.944-8.192 29.44-15.104 0 0-12.8 20.992-46.336 30.464 7.68 9.728 16.896 20.736 16.896 20.736 56.576-1.792 78.336-38.912 78.336-38.912z"></path></svg></a></li><li class="m-3"><a class="link--white" href="https://twitter.com/801labs" rel="noopener" target="_blank" title="Twitter"><span class="sr-only">Twitter</span><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter-square" class="svg-inline--fa fa-twitter-square fa-w-14 fa-3x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z"></path></svg></a></li><li class="m-3"><a class="link--white" href="https://www.meetup.com/801labs/" rel="noopener" target="_blank" title="Meetup"><span class="sr-only">Meetup</span><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="meetup" class="svg-inline--fa fa-meetup fa-w-16 fa-3x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M99 414.3c1.1 5.7-2.3 11.1-8 12.3-5.4 1.1-10.9-2.3-12-8-1.1-5.4 2.3-11.1 7.7-12.3 5.4-1.2 11.1 2.3 12.3 8zm143.1 71.4c-6.3 4.6-8 13.4-3.7 20 4.6 6.6 13.4 8.3 20 3.7 6.3-4.6 8-13.4 3.4-20-4.2-6.5-13.1-8.3-19.7-3.7zm-86-462.3c6.3-1.4 10.3-7.7 8.9-14-1.1-6.6-7.4-10.6-13.7-9.1-6.3 1.4-10.3 7.7-9.1 14 1.4 6.6 7.6 10.6 13.9 9.1zM34.4 226.3c-10-6.9-23.7-4.3-30.6 6-6.9 10-4.3 24 5.7 30.9 10 7.1 23.7 4.6 30.6-5.7 6.9-10.4 4.3-24.1-5.7-31.2zm272-170.9c10.6-6.3 13.7-20 7.7-30.3-6.3-10.6-19.7-14-30-7.7s-13.7 20-7.4 30.6c6 10.3 19.4 13.7 29.7 7.4zm-191.1 58c7.7-5.4 9.4-16 4.3-23.7s-15.7-9.4-23.1-4.3c-7.7 5.4-9.4 16-4.3 23.7 5.1 7.8 15.6 9.5 23.1 4.3zm372.3 156c-7.4 1.7-12.3 9.1-10.6 16.9 1.4 7.4 8.9 12.3 16.3 10.6 7.4-1.4 12.3-8.9 10.6-16.6-1.5-7.4-8.9-12.3-16.3-10.9zm39.7-56.8c-1.1-5.7-6.6-9.1-12-8-5.7 1.1-9.1 6.9-8 12.6 1.1 5.4 6.6 9.1 12.3 8 5.4-1.5 9.1-6.9 7.7-12.6zM447 138.9c-8.6 6-10.6 17.7-4.9 26.3 5.7 8.6 17.4 10.6 26 4.9 8.3-6 10.3-17.7 4.6-26.3-5.7-8.7-17.4-10.9-25.7-4.9zm-6.3 139.4c26.3 43.1 15.1 100-26.3 129.1-17.4 12.3-37.1 17.7-56.9 17.1-12 47.1-69.4 64.6-105.1 32.6-1.1.9-2.6 1.7-3.7 2.9-39.1 27.1-92.3 17.4-119.4-22.3-9.7-14.3-14.6-30.6-15.1-46.9-65.4-10.9-90-94-41.1-139.7-28.3-46.9.6-107.4 53.4-114.9C151.6 70 234.1 38.6 290.1 82c67.4-22.3 136.3 29.4 130.9 101.1 41.1 12.6 52.8 66.9 19.7 95.2zm-70 74.3c-3.1-20.6-40.9-4.6-43.1-27.1-3.1-32 43.7-101.1 40-128-3.4-24-19.4-29.1-33.4-29.4-13.4-.3-16.9 2-21.4 4.6-2.9 1.7-6.6 4.9-11.7-.3-6.3-6-11.1-11.7-19.4-12.9-12.3-2-17.7 2-26.6 9.7-3.4 2.9-12 12.9-20 9.1-3.4-1.7-15.4-7.7-24-11.4-16.3-7.1-40 4.6-48.6 20-12.9 22.9-38 113.1-41.7 125.1-8.6 26.6 10.9 48.6 36.9 47.1 11.1-.6 18.3-4.6 25.4-17.4 4-7.4 41.7-107.7 44.6-112.6 2-3.4 8.9-8 14.6-5.1 5.7 3.1 6.9 9.4 6 15.1-1.1 9.7-28 70.9-28.9 77.7-3.4 22.9 26.9 26.6 38.6 4 3.7-7.1 45.7-92.6 49.4-98.3 4.3-6.3 7.4-8.3 11.7-8 3.1 0 8.3.9 7.1 10.9-1.4 9.4-35.1 72.3-38.9 87.7-4.6 20.6 6.6 41.4 24.9 50.6 11.4 5.7 62.5 15.7 58.5-11.1zm5.7 92.3c-10.3 7.4-12.9 22-5.7 32.6 7.1 10.6 21.4 13.1 32 6 10.6-7.4 13.1-22 6-32.6-7.4-10.6-21.7-13.5-32.3-6z"></path></svg></a></li><li class="m-3"><a class="link--white" href="https://www.youtube.com/c/801LabsSaltLakeCity" rel="noopener" target="_blank" title="YouTube"><span class="sr-only">YouTube</span><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="youtube" class="svg-inline--fa fa-youtube fa-w-18 fa-3x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"></path></svg></a></li><li class="m-3"><a class="link--white" href="https://github.com/801labs/" rel="noopener" target="_blank" title="GitHub"><span class="sr-only">GitHub</span><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-w-16 fa-3x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></li></ul><div class="grid grid-cols-2 lg:grid-cols-4 gap-5 mb-10"><div><h2 class="mb-4 fluid-text-lg uppercase"><a class="link--white" href="/about/">About</a></h2><ul class="space-y-2"><li><a class="link--white" href="/about/financial-information/">Financial Information</a></li><li><a class="link--white" href="/about/news/1/">News</a></li></ul></div><div><h2 class="mb-4 fluid-text-lg uppercase"><a class="link--white" href="/research-portal/1/">Learn</a></h2></div><div><h2 class="mb-4 fluid-text-lg uppercase"><a class="link--white" href="/get-involved/">Get Involved</a></h2><ul class="space-y-2"><li><a class="link--white" href="/get-involved/events/">Events</a></li><li><a class="link--white" href="/get-involved/location-and-hours/">Location and Hours</a></li></ul></div><div><h2 class="mb-4 fluid-text-lg uppercase"><a class="link--white" href="/contact/">Contact Us</a></h2></div></div><div class="border-t border-white fluid-text-sm text-center pt-10 space-y-5"><p>Â© <!-- -->2021<!-- --> 801Labs.com. All rights reserved.</p><p><a class="link--tangerine uppercase" href="/donate/">DonateÂ &gt;</a></p><p>801 Labs hackerspace is a 501(c)(3) that is open to the public!<br/>353 East 200 South Suite #201, Salt Lake City, UT 84111</p><p><a class="link--tangerine" href="/code-of-conduct/">Code of Conduct</a><span class="mx-3">|</span><a class="link--tangerine" href="/terms/">Terms</a></p></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"allTags":{"biohacking":"biohacking","buffer-overflow":"buffer overflow","development":"Development","dll-injection":"DLL Injection","domains":"domains","ee":"EE","how-to":"how to","makefile":"Makefile","memory":"memory","pcap":"pcap","phishing":"phishing","re":"RE","research":"research","rfid":"RFID","story":"Story","tutorial":"Tutorial","windows-api":"Windows API","windows-hacking":"Windows Hacking"},"title":"i didn't hack my christmas tree lights","slug":"didnt-hack-my-christmas-lights","date_published":1545882584000,"date_updated":1545882612000,"tags":[],"excerpt":"\nSometimes you go to Target and fall in love with the most stupid and useless yet incredibly cool product you could buy with the spare $100 you don't really have and sometimes you are even lucky enough to find a product that:\n\n1. lights up\n2. is connected to the internet\n\nwhich personally are my two favorite things. Oh, and it's Christmastime?? Enter the Philips Illuminate Starter Kit of 25 C9-sized LED lights. \n\nWhile many wi-fi app controlled LED lights come in LED light strip form, these lights in particular come attached to each other on a typical Christmas light string setup, but at the end of the cord about a foot from the plug is a green control box. 25 lights isn't really enough to make a standard Christmas tree look good, so I bought some supplemental lights and hooked these babies up then got them connected to my wifi ASAP. You can buy additional Philips Illuminate branded extension light strings to hook up to your main strand, which maxes out at 300 lights per control box.\n\n![](2018/12/IMG_3415.jpg \"a mix of birbs, the colored Philips lights, and a strand of normal lights. note the green control box to the bottom left\")\n\nIn order to connect to your Philips Illuminate lights, you download the Illuminate app, connect to the wifi the control box emanates, and provide the control box with the login to your home wifi. Once you hook the control box up to your home wifi, everything is all set for app control. The app can do A Bunch of Cool Things, including a huge amount of pre-programmed light patterns, the ability to make your own custom patterns, and a mode where the lights react to your voice... super creepy but great for the cool trick factor. \n\nThe ease of this all means the lights are absolutely worth the sale price of $79.99 (originally $99.99!), right? But it'd be nice to get them to do a little more, or at least be able to deconstruct how they work. After running through the programs available on the app, creating my own programs on the app, and poking around to see if anybody had created a custom firmware for these yet, I got to the point where I started getting a bit more curious about the security of the Philips Illuminate light set. \n\nFirst of all, if these things are on my wifi network, they've got to have an IP address and my particular starting point for poking at things on my network is to do an nmap scan:\n\n![](2018/12/image-19.jpg)\n\nChoose whatever nmap scan you want, but this one hits all the ports tcp and udp so you can get a general idea of what the network functions of this device are. From this scan, I've got the easily recognizable port 80 which indicates we can browse to http://192.168.50.37 on my home network and see what's up there. I also see a pretty neat option with port 5577, which led me down a huge rabbit hole. I've never messed with smart home devices before, but apparently port 5577 is a standard control port for issuing commands to networked LED devices with a certain set of controllers. In the UDP zone, there's port 53!! Is this thing running a DNS server? There's also those various high level UDP ports which could offer up some interesting information.\n\nIn the interest of keeping things simple, I started with the port 80 web interface. By browsing to the IP address, I got a login prompt where I tried every different formulation of admin/admin, admin/password, root/[blank]... nothing.\n\n![](2018/12/Screen-Shot-2018-12-26-at-10.24.57-AM.jpg \"a challenge\")\n\nAlso note the truly beautiful shade of pink you get upon failed login... the kind of pink that makes you want to attempt more.\n\n![](2018/12/Screen-Shot-2018-12-26-at-10.29.47-AM.jpg \"heck.\")\n\nAt this point I was pretty okay with trying anything I could to get into what I assumed was a web interface to change settings with the lights. Following t[his](https://support.portswigger.net/customer/portal/articles/1964020-using-burp-to-brute-force-a-login-page) article about using Burp to brute force a login page yielded no results. [This](http://tylerrockwell.github.io/defeating-basic-auth-with-hydra/) article about using Hydra to brute force a login page... **also** yielded no results. Double heck! \n\n***NOTE:*** Both of the brute force options would have worked if I had a certain reversed common username in any of the wordlists I used... remember to use good wordlists, pals. But I didn't, so I carried on.\n\nThe next thing I wanted to try was getting a PCAP of the app issuing commands to the lights, because maybe the password would be visible over the wire! At this point I was mistakenly assuming that the app was issuing API calls over port 80 via authenticated HTTP at the very least. I didn't have an easy way right off the bat to grab a PCAP, so I turned to asking people around me what they'd do next. We ended up decompiling the Philips Illuminate APK to try and find the password. It was a really great way to get a crash course in Android app development, but didn't yield any results HTTP login password-wise. I did get a bit more information about these lights though: the original developer is a company called Zengge and also got some model information from examining the APK. I wasn't right about the HTTP posts for the control of the lights, so on to the next option.\n\nDoing more research about port 5577 gave me the confirmation that it was time to put these things on an isolated test network just to be able to make sure nothing else was messing with them and snatch a pcap of opening my app and issuing a series of on-off commands:\n\n![](2018/12/Screen-Shot-2018-12-25-at-4.13.02-PM.jpg \"things happening over port 5577!!\")\n\nand look! Confirmation that commands are indeed issued over port 5577. But how can you confirm for absolutely certain that it's not just random chatter? Follow the streams:\n\n![](2018/12/Screen-Shot-2018-12-25-at-4.26.26-PM.jpg \"Repetitive commands being issued! Hooray!\")\n \nThat's what a series of on-off commands looks like, and here's what a series of switching between the two custom programs I made on the app look like: \n\n![](2018/12/Screen-Shot-2018-12-25-at-4.36.31-PM.png \"a bit more complex\")\n\nSo as you can see, a bit more complicated when you get into the fancy settings like color changes and fade speeds. When looking through the pcaps for different kinds of requests, there's not a whole bunch more information beyond the promise of the ability to issue totally unauthenticated commands. This makes it unnecessary to have the HTTP page login for the purposes of controlling the lights without the app, but I was still really interested in finding the password. What was that terrible pink 404 error hiding?\n\nOur next port to explore was confirmed as the one interesting artifact I found in the PCAPs I took: this controller randomly spits out the either the ip address, hostname, mac address in a string or every so often a string of \"HF-A11ASSISTHREAD\" over UDP on port 48899. \n\n![](2018/12/Screen-Shot-2018-12-26-at-1.46.48-PM.png \"a friendly network device\")\n\nThis didn't correspond with any hostnames, so I immediately threw it into Google and found out some excellent information about the Zengge Lightbulb manufacturing company thanks to [vikstrous on Github](https://github.com/vikstrous/zengge-lightcontrol). This source not only gave me some insight onto what's going on with this magical box and lights, but also the admin/password to login to the web interface (finally)!\n\nWhat is going on here anyways? What we know at this point is that there's 25 LEDs controlled by a control box. The control box has a wifi card in it which has the ability to not only broadcast but also connect to a wifi network. This card also runs a UART (Universal Asynchronous Receiver/Transmitter) that accepts commands over port 5577. The mysterious port 48899 is the ability to control some options for the device, but lucky for me the default HTTP login found on the internet for the device works!\n\n![](2018/12/Screen-Shot-2018-12-25-at-5.37.14-PM.jpg \"Answers!\")\n\nHere is where we can configure some cool information about the device's settings for sending and receiving commands, but honestly I'm not even going to touch it â since what I was really hoping for was a web interface to control the lights themselves, not really the device that controls communication to them. \n\nAn additional part of this adventure that doesn't really fit into the rest of the research is that Philips is just the distributor for this product which is made by Seasonal Specialties, a company founded in 1996. [Seasonal Specialities](http://www.seasonalspecialties.com) has a website that was created in Microsoft Frontpage 5.0 but also a [wordpress with a default login page](http://www.seasonalspecialties.com/wp/wp-login.php) operating on the same web host. Yikes. These details tell me security isn't exactly a major concern at Seasonal Specialities, yet these lights are a really nicely made product so I would like to tell them to please start caring! If you go through all of the trouble to rebrand the Zenegge light parts into something that becomes a well-constructed nicely working set of Christmas lights, why not go the extra mile and figure out how to cover up their lack of security? \n\nLuckily, I've got what I need to start creating the foundation for controlling the lights without the Philips Illuminate app. I have a model of UART Controller and lights, I know that the commands aren't sent with any authentication, and I could conceivably find a way to send commands via my Raspberry Pi or create my own web interface for their control. Simply telnetting to port 5577 and repeating the same strings observed in the PCAP back at the device doesn't really work... So now it's just a matter of finding out what packages are out there to interact with this controller or building my own. I'm also tempted to see if any of the [OpenHab](https://www.openhab.org/addons/bindings/wifiled/) extensions can play nice with these lights. Either way, I haven't really hacked my Christmas lights, I just found out a TON of information about how they work and function. The true hack will come when I find a way to make them work without their intended supporting software. \n\nThanks to some sources:\n\n[https://www.jpelectron.com/sample/Electronics/WiFi%20LED%20control/](https://www.jpelectron.com/sample/Electronics/WiFi%20LED%20control/)\n\n[https://github.com/renebohne/wifirgbcontroller](https://github.com/renebohne/wifirgbcontroller)\n\n[https://www.openhab.org/addons/bindings/wifiled/](https://www.openhab.org/addons/bindings/wifiled/)\n\n[https://github.com/vikstrous/zengge-lightcontrol](https://github.com/vikstrous/zengge-lightcontrol)\n","cover":"2018/12/A7B65125-AF02-44C0-8FBF-0D2D0236161F-1.jpg","author":{"name":"kimb3r","avatar":"avatars/kimb3r.jpg"},"content":"\u003cp\u003eSometimes you go to Target and fall in love with the most stupid and useless yet incredibly cool product you could buy with the spare $100 you don't really have and sometimes you are even lucky enough to find a product that:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003elights up\u003c/li\u003e\n\u003cli\u003eis connected to the internet\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003ewhich personally are my two favorite things. Oh, and it's Christmastime?? Enter the Philips Illuminate Starter Kit of 25 C9-sized LED lights. \u003c/p\u003e\n\u003cp\u003eWhile many wi-fi app controlled LED lights come in LED light strip form, these lights in particular come attached to each other on a typical Christmas light string setup, but at the end of the cord about a foot from the plug is a green control box. 25 lights isn't really enough to make a standard Christmas tree look good, so I bought some supplemental lights and hooked these babies up then got them connected to my wifi ASAP. You can buy additional Philips Illuminate branded extension light strings to hook up to your main strand, which maxes out at 300 lights per control box.\u003c/p\u003e\n\u003cfigure\u003e\u003cimg src=\"/_next/static/images/IMG_3415-320-193041b81c30ed74d7371c7140d75745.jpg\" srcset=\"/_next/static/images/IMG_3415-320-193041b81c30ed74d7371c7140d75745.jpg 320w,/_next/static/images/IMG_3415-640-d2c7ac5720a44d012629da650ec0738a.jpg 640w,/_next/static/images/IMG_3415-960-1b6be528ad65bae5231c3780e7a96a91.jpg 960w,/_next/static/images/IMG_3415-1280-36e9d0304baeb5853ae285b303a2a8a6.jpg 1280w,/_next/static/images/IMG_3415-1900-4403650c39df25db835d06710c79f326.jpg 1900w\" sizes=\"(min-width: 960px) 960px, 100vw\" width=\"1900\" height=\"2534\" alt=\"undefined\" loading=\"lazy\" /\u003e\u003cfigcaption\u003ea mix of birbs, the colored Philips lights, and a strand of normal lights. note the green control box to the bottom left\u003c/figcaption\u003e\u003c/figure\u003e\n\u003cp\u003eIn order to connect to your Philips Illuminate lights, you download the Illuminate app, connect to the wifi the control box emanates, and provide the control box with the login to your home wifi. Once you hook the control box up to your home wifi, everything is all set for app control. The app can do A Bunch of Cool Things, including a huge amount of pre-programmed light patterns, the ability to make your own custom patterns, and a mode where the lights react to your voice... super creepy but great for the cool trick factor. \u003c/p\u003e\n\u003cp\u003eThe ease of this all means the lights are absolutely worth the sale price of $79.99 (originally $99.99!), right? But it'd be nice to get them to do a little more, or at least be able to deconstruct how they work. After running through the programs available on the app, creating my own programs on the app, and poking around to see if anybody had created a custom firmware for these yet, I got to the point where I started getting a bit more curious about the security of the Philips Illuminate light set. \u003c/p\u003e\n\u003cp\u003eFirst of all, if these things are on my wifi network, they've got to have an IP address and my particular starting point for poking at things on my network is to do an nmap scan:\u003c/p\u003e\n\u003cimg src=\"/_next/static/images/image-19-320-c77f26fc36b7b9460f3b5bd5c6ccbed1.jpg\" srcset=\"/_next/static/images/image-19-320-c77f26fc36b7b9460f3b5bd5c6ccbed1.jpg 320w,/_next/static/images/image-19-640-706ab409c6ad1f56ebd7f96f4b21cdd8.jpg 640w,/_next/static/images/image-19-960-bb667610ec000e5b8937cbc67596e592.jpg 960w,/_next/static/images/image-19-1146-c1da6843f4ca674f735d61d4a9616013.jpg 1146w\" sizes=\"(min-width: 960px) 960px, 100vw\" width=\"1146\" height=\"598\" alt=\"undefined\" loading=\"lazy\" /\u003e\n\u003cp\u003eChoose whatever nmap scan you want, but this one hits all the ports tcp and udp so you can get a general idea of what the network functions of this device are. From this scan, I've got the easily recognizable port 80 which indicates we can browse to \u003ca href=\"http://192.168.50.37\"\u003ehttp://192.168.50.37\u003c/a\u003e on my home network and see what's up there. I also see a pretty neat option with port 5577, which led me down a huge rabbit hole. I've never messed with smart home devices before, but apparently port 5577 is a standard control port for issuing commands to networked LED devices with a certain set of controllers. In the UDP zone, there's port 53!! Is this thing running a DNS server? There's also those various high level UDP ports which could offer up some interesting information.\u003c/p\u003e\n\u003cp\u003eIn the interest of keeping things simple, I started with the port 80 web interface. By browsing to the IP address, I got a login prompt where I tried every different formulation of admin/admin, admin/password, root/[blank]... nothing.\u003c/p\u003e\n\u003cfigure\u003e\u003cimg src=\"/_next/static/images/Screen-Shot-2018-12-26-at-10.24.57-AM-320-d33826bef02ee6c44917f2cf8436354d.jpg\" srcset=\"/_next/static/images/Screen-Shot-2018-12-26-at-10.24.57-AM-320-d33826bef02ee6c44917f2cf8436354d.jpg 320w,/_next/static/images/Screen-Shot-2018-12-26-at-10.24.57-AM-640-43564c6827d0d4bda070234608ee73bd.jpg 640w,/_next/static/images/Screen-Shot-2018-12-26-at-10.24.57-AM-960-b13dd723c0ad7c30b12412adcf3627fb.jpg 960w,/_next/static/images/Screen-Shot-2018-12-26-at-10.24.57-AM-1280-28b4b73b5a76f960e5bccd185b7c40e9.jpg 1280w,/_next/static/images/Screen-Shot-2018-12-26-at-10.24.57-AM-1816-1e02ea3dd1bad600bf41607b57cd42cd.jpg 1816w\" sizes=\"(min-width: 960px) 960px, 100vw\" width=\"1816\" height=\"960\" alt=\"undefined\" loading=\"lazy\" /\u003e\u003cfigcaption\u003ea challenge\u003c/figcaption\u003e\u003c/figure\u003e\n\u003cp\u003eAlso note the truly beautiful shade of pink you get upon failed login... the kind of pink that makes you want to attempt more.\u003c/p\u003e\n\u003cfigure\u003e\u003cimg src=\"/_next/static/images/Screen-Shot-2018-12-26-at-10.29.47-AM-320-f0b45e06a8a2f36e6f6b74e83d2809b1.jpg\" srcset=\"/_next/static/images/Screen-Shot-2018-12-26-at-10.29.47-AM-320-f0b45e06a8a2f36e6f6b74e83d2809b1.jpg 320w,/_next/static/images/Screen-Shot-2018-12-26-at-10.29.47-AM-640-506248add02bfc627fa199f7fcd4f090.jpg 640w,/_next/static/images/Screen-Shot-2018-12-26-at-10.29.47-AM-960-ba606b67cc9bcc2a65419e80e3c3c999.jpg 960w,/_next/static/images/Screen-Shot-2018-12-26-at-10.29.47-AM-1280-2d7d273bd25f49b6b1c90003c9482888.jpg 1280w,/_next/static/images/Screen-Shot-2018-12-26-at-10.29.47-AM-1816-457959c4d62e44c996cb33a7367d663f.jpg 1816w\" sizes=\"(min-width: 960px) 960px, 100vw\" width=\"1816\" height=\"960\" alt=\"undefined\" loading=\"lazy\" /\u003e\u003cfigcaption\u003eheck.\u003c/figcaption\u003e\u003c/figure\u003e\n\u003cp\u003eAt this point I was pretty okay with trying anything I could to get into what I assumed was a web interface to change settings with the lights. Following t\u003ca href=\"https://support.portswigger.net/customer/portal/articles/1964020-using-burp-to-brute-force-a-login-page\"\u003ehis\u003c/a\u003e article about using Burp to brute force a login page yielded no results. \u003ca href=\"http://tylerrockwell.github.io/defeating-basic-auth-with-hydra/\"\u003eThis\u003c/a\u003e article about using Hydra to brute force a login page... \u003cstrong\u003ealso\u003c/strong\u003e yielded no results. Double heck! \u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e\u003cem\u003eNOTE:\u003c/em\u003e\u003c/strong\u003e Both of the brute force options would have worked if I had a certain reversed common username in any of the wordlists I used... remember to use good wordlists, pals. But I didn't, so I carried on.\u003c/p\u003e\n\u003cp\u003eThe next thing I wanted to try was getting a PCAP of the app issuing commands to the lights, because maybe the password would be visible over the wire! At this point I was mistakenly assuming that the app was issuing API calls over port 80 via authenticated HTTP at the very least. I didn't have an easy way right off the bat to grab a PCAP, so I turned to asking people around me what they'd do next. We ended up decompiling the Philips Illuminate APK to try and find the password. It was a really great way to get a crash course in Android app development, but didn't yield any results HTTP login password-wise. I did get a bit more information about these lights though: the original developer is a company called Zengge and also got some model information from examining the APK. I wasn't right about the HTTP posts for the control of the lights, so on to the next option.\u003c/p\u003e\n\u003cp\u003eDoing more research about port 5577 gave me the confirmation that it was time to put these things on an isolated test network just to be able to make sure nothing else was messing with them and snatch a pcap of opening my app and issuing a series of on-off commands:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg src=\"/_next/static/images/Screen-Shot-2018-12-25-at-4.13.02-PM-320-71fb11f16f5a0744f83c6d740370031e.jpg\" srcset=\"/_next/static/images/Screen-Shot-2018-12-25-at-4.13.02-PM-320-71fb11f16f5a0744f83c6d740370031e.jpg 320w,/_next/static/images/Screen-Shot-2018-12-25-at-4.13.02-PM-640-99a0e2ddbeef57b100f67eb6076bc15b.jpg 640w,/_next/static/images/Screen-Shot-2018-12-25-at-4.13.02-PM-960-172671a4fe77d762ee7b350b2e46c0a1.jpg 960w,/_next/static/images/Screen-Shot-2018-12-25-at-4.13.02-PM-1280-81fae8a5678a5e2194a60adfade220a1.jpg 1280w,/_next/static/images/Screen-Shot-2018-12-25-at-4.13.02-PM-1900-c4395dbbe053ebf3ac0c0e757038c88c.jpg 1900w\" sizes=\"(min-width: 960px) 960px, 100vw\" width=\"1900\" height=\"474\" alt=\"undefined\" loading=\"lazy\" /\u003e\u003cfigcaption\u003ethings happening over port 5577!!\u003c/figcaption\u003e\u003c/figure\u003e\n\u003cp\u003eand look! Confirmation that commands are indeed issued over port 5577. But how can you confirm for absolutely certain that it's not just random chatter? Follow the streams:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg src=\"/_next/static/images/Screen-Shot-2018-12-25-at-4.26.26-PM-320-dc46bd5e769f85dfbfaf658f5dc27543.jpg\" srcset=\"/_next/static/images/Screen-Shot-2018-12-25-at-4.26.26-PM-320-dc46bd5e769f85dfbfaf658f5dc27543.jpg 320w,/_next/static/images/Screen-Shot-2018-12-25-at-4.26.26-PM-640-5a452451ec88b92b45edf71f4556b767.jpg 640w,/_next/static/images/Screen-Shot-2018-12-25-at-4.26.26-PM-960-281512f663ed4a2122275d2036395f9e.jpg 960w,/_next/static/images/Screen-Shot-2018-12-25-at-4.26.26-PM-1280-b8f17c57c2b18e70d6a3fa3d07594e0d.jpg 1280w,/_next/static/images/Screen-Shot-2018-12-25-at-4.26.26-PM-1742-195b56f2963e4d18b185d61d1cabc660.jpg 1742w\" sizes=\"(min-width: 960px) 960px, 100vw\" width=\"1742\" height=\"1804\" alt=\"undefined\" loading=\"lazy\" /\u003e\u003cfigcaption\u003eRepetitive commands being issued! Hooray!\u003c/figcaption\u003e\u003c/figure\u003e\n\u003cp\u003eThat's what a series of on-off commands looks like, and here's what a series of switching between the two custom programs I made on the app look like: \u003c/p\u003e\n\u003cfigure\u003e\u003cimg src=\"/_next/static/images/Screen-Shot-2018-12-25-at-4.36.31-PM-320-9a011c68002e9b31b55731f1ca0f2675.png\" srcset=\"/_next/static/images/Screen-Shot-2018-12-25-at-4.36.31-PM-320-9a011c68002e9b31b55731f1ca0f2675.png 320w,/_next/static/images/Screen-Shot-2018-12-25-at-4.36.31-PM-640-d652a161a871c198e86214bd7d669a9f.png 640w,/_next/static/images/Screen-Shot-2018-12-25-at-4.36.31-PM-960-b85b08c925c0bbdaf04e609da64ac6fe.png 960w,/_next/static/images/Screen-Shot-2018-12-25-at-4.36.31-PM-1280-155469dfe31b4cd88234ab7426561446.png 1280w,/_next/static/images/Screen-Shot-2018-12-25-at-4.36.31-PM-1746-be75664bc8c0bc4e8e490174b68e9fe2.png 1746w\" sizes=\"(min-width: 960px) 960px, 100vw\" width=\"1746\" height=\"694\" alt=\"undefined\" loading=\"lazy\" /\u003e\u003cfigcaption\u003ea bit more complex\u003c/figcaption\u003e\u003c/figure\u003e\n\u003cp\u003eSo as you can see, a bit more complicated when you get into the fancy settings like color changes and fade speeds. When looking through the pcaps for different kinds of requests, there's not a whole bunch more information beyond the promise of the ability to issue totally unauthenticated commands. This makes it unnecessary to have the HTTP page login for the purposes of controlling the lights without the app, but I was still really interested in finding the password. What was that terrible pink 404 error hiding?\u003c/p\u003e\n\u003cp\u003eOur next port to explore was confirmed as the one interesting artifact I found in the PCAPs I took: this controller randomly spits out the either the ip address, hostname, mac address in a string or every so often a string of \"HF-A11ASSISTHREAD\" over UDP on port 48899. \u003c/p\u003e\n\u003cfigure\u003e\u003cimg src=\"/_next/static/images/Screen-Shot-2018-12-26-at-1.46.48-PM-320-5541a2e1fe7884f5f7d92caa510963c1.png\" srcset=\"/_next/static/images/Screen-Shot-2018-12-26-at-1.46.48-PM-320-5541a2e1fe7884f5f7d92caa510963c1.png 320w,/_next/static/images/Screen-Shot-2018-12-26-at-1.46.48-PM-640-8362e46ace1450ade53b4dcb1b361497.png 640w,/_next/static/images/Screen-Shot-2018-12-26-at-1.46.48-PM-960-33047f2d1157ca28b4f65962e9f146c4.png 960w,/_next/static/images/Screen-Shot-2018-12-26-at-1.46.48-PM-1280-6f8ad2bf0f2fd46b5ef9b63d6454dd57.png 1280w,/_next/static/images/Screen-Shot-2018-12-26-at-1.46.48-PM-1688-14a2a9224f3be3f20f2bd8c7509d7367.png 1688w\" sizes=\"(min-width: 960px) 960px, 100vw\" width=\"1688\" height=\"616\" alt=\"undefined\" loading=\"lazy\" /\u003e\u003cfigcaption\u003ea friendly network device\u003c/figcaption\u003e\u003c/figure\u003e\n\u003cp\u003eThis didn't correspond with any hostnames, so I immediately threw it into Google and found out some excellent information about the Zengge Lightbulb manufacturing company thanks to \u003ca href=\"https://github.com/vikstrous/zengge-lightcontrol\"\u003evikstrous on Github\u003c/a\u003e. This source not only gave me some insight onto what's going on with this magical box and lights, but also the admin/password to login to the web interface (finally)!\u003c/p\u003e\n\u003cp\u003eWhat is going on here anyways? What we know at this point is that there's 25 LEDs controlled by a control box. The control box has a wifi card in it which has the ability to not only broadcast but also connect to a wifi network. This card also runs a UART (Universal Asynchronous Receiver/Transmitter) that accepts commands over port 5577. The mysterious port 48899 is the ability to control some options for the device, but lucky for me the default HTTP login found on the internet for the device works!\u003c/p\u003e\n\u003cfigure\u003e\u003cimg src=\"/_next/static/images/Screen-Shot-2018-12-25-at-5.37.14-PM-320-fef429f1017e7d58f8f9c86c0457a7ee.jpg\" srcset=\"/_next/static/images/Screen-Shot-2018-12-25-at-5.37.14-PM-320-fef429f1017e7d58f8f9c86c0457a7ee.jpg 320w,/_next/static/images/Screen-Shot-2018-12-25-at-5.37.14-PM-640-93c45f62275986e13c16a5de9f64ee38.jpg 640w,/_next/static/images/Screen-Shot-2018-12-25-at-5.37.14-PM-960-3158d85bf6552310131d9488ea6a2d73.jpg 960w,/_next/static/images/Screen-Shot-2018-12-25-at-5.37.14-PM-1280-88e13c7f18945e53eaeb2715f852fbb0.jpg 1280w,/_next/static/images/Screen-Shot-2018-12-25-at-5.37.14-PM-1738-e42dc19fe619602296329e81841d0429.jpg 1738w\" sizes=\"(min-width: 960px) 960px, 100vw\" width=\"1738\" height=\"1394\" alt=\"undefined\" loading=\"lazy\" /\u003e\u003cfigcaption\u003eAnswers!\u003c/figcaption\u003e\u003c/figure\u003e\n\u003cp\u003eHere is where we can configure some cool information about the device's settings for sending and receiving commands, but honestly I'm not even going to touch it â since what I was really hoping for was a web interface to control the lights themselves, not really the device that controls communication to them. \u003c/p\u003e\n\u003cp\u003eAn additional part of this adventure that doesn't really fit into the rest of the research is that Philips is just the distributor for this product which is made by Seasonal Specialties, a company founded in 1996. \u003ca href=\"http://www.seasonalspecialties.com\"\u003eSeasonal Specialities\u003c/a\u003e has a website that was created in Microsoft Frontpage 5.0 but also a \u003ca href=\"http://www.seasonalspecialties.com/wp/wp-login.php\"\u003ewordpress with a default login page\u003c/a\u003e operating on the same web host. Yikes. These details tell me security isn't exactly a major concern at Seasonal Specialities, yet these lights are a really nicely made product so I would like to tell them to please start caring! If you go through all of the trouble to rebrand the Zenegge light parts into something that becomes a well-constructed nicely working set of Christmas lights, why not go the extra mile and figure out how to cover up their lack of security? \u003c/p\u003e\n\u003cp\u003eLuckily, I've got what I need to start creating the foundation for controlling the lights without the Philips Illuminate app. I have a model of UART Controller and lights, I know that the commands aren't sent with any authentication, and I could conceivably find a way to send commands via my Raspberry Pi or create my own web interface for their control. Simply telnetting to port 5577 and repeating the same strings observed in the PCAP back at the device doesn't really work... So now it's just a matter of finding out what packages are out there to interact with this controller or building my own. I'm also tempted to see if any of the \u003ca href=\"https://www.openhab.org/addons/bindings/wifiled/\"\u003eOpenHab\u003c/a\u003e extensions can play nice with these lights. Either way, I haven't really hacked my Christmas lights, I just found out a TON of information about how they work and function. The true hack will come when I find a way to make them work without their intended supporting software. \u003c/p\u003e\n\u003cp\u003eThanks to some sources:\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.jpelectron.com/sample/Electronics/WiFi%20LED%20control/\"\u003ehttps://www.jpelectron.com/sample/Electronics/WiFi%20LED%20control/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/renebohne/wifirgbcontroller\"\u003ehttps://github.com/renebohne/wifirgbcontroller\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.openhab.org/addons/bindings/wifiled/\"\u003ehttps://www.openhab.org/addons/bindings/wifiled/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/vikstrous/zengge-lightcontrol\"\u003ehttps://github.com/vikstrous/zengge-lightcontrol\u003c/a\u003e\u003c/p\u003e\n"},"__N_SSG":true},"page":"/research-portal/post/[slug]","query":{"slug":"didnt-hack-my-christmas-lights"},"buildId":"CgqiBYsCZ3xE4kpfM9iAT","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-8aa29ccfa5f6c93452ea.js"></script><script src="/_next/static/chunks/main-b4e92501dafbf3105fc2.js" async=""></script><script src="/_next/static/chunks/webpack-488dc228921f1fdbc0e7.js" async=""></script><script src="/_next/static/chunks/framework.639a4c6d2372edf94622.js" async=""></script><script src="/_next/static/chunks/commons.4d1825a506d17b0928b0.js" async=""></script><script src="/_next/static/chunks/pages/_app-12e3ebfc7a933fcdcbbe.js" async=""></script><script src="/_next/static/chunks/cb1608f2.7e132185cf1e34346bef.js" async=""></script><script src="/_next/static/chunks/a9a7754c.7aa4e9847236da390ada.js" async=""></script><script src="/_next/static/chunks/d08d8da065e662efb4cb4dbcdc52896f9ea60d65.9dd7d400e0d5e958135f.js" async=""></script><script src="/_next/static/chunks/269ea3ef5216fdb5e29fe1b24ee03a8936e3d31a.4d478adb7189bc4ce75a.js" async=""></script><script src="/_next/static/chunks/pages/research-portal/post/%5Bslug%5D-4f135702a487b59705c4.js" async=""></script><script src="/_next/static/CgqiBYsCZ3xE4kpfM9iAT/_buildManifest.js" async=""></script><script src="/_next/static/CgqiBYsCZ3xE4kpfM9iAT/_ssgManifest.js" async=""></script></body></html>