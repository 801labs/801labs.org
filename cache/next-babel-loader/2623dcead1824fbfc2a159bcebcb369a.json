{"ast":null,"code":"const visit = require('unist-util-visit');\n\nexport default (() => (tree, file) => {\n  visit(tree, 'image', (node, index, parent) => {\n    const image = require(`images/${node.url}?resize`);\n\n    const {\n      width,\n      height\n    } = image.images[image.images.length - 1];\n    const img = `<img src=\"${image.src}\" srcset=\"${image.srcSet}\" sizes=\"(min-width: 960px) 960px, 100vw\" width=\"${width}\" height=\"${height}\" alt=\"${image.alt}\" loading=\"lazy\" />`;\n    const markup = {\n      type: 'html',\n      value: node.title ? `<figure>${img}<figcaption>${node.title}</figcaption></figure>` : img\n    };\n    parent.children.splice(index, 1, markup);\n    return [visit.SKIP, index];\n  });\n});","map":null,"metadata":{},"sourceType":"module"}